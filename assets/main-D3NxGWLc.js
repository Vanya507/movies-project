import{a as u}from"./axios-Dy7G9AwK.js";import{d as v}from"./dayjs.min-Bof1u0Bp.js";const d=document.querySelector(".trending-movies"),l=document.createElement("ul"),c=document.createElement("ul"),r=document.querySelector("input"),y=document.querySelector("button");function m(e){const t=document.createElement("li"),n=document.createElement("h3"),s=document.createElement("h4"),i=document.createElement("img"),o=document.createElement("a"),a=document.createElement("a");return o.append(i),a.append(n),o.href=`./detail.html?id=${e.id}`,a.href=`./detail.html?id=${e.id}`,n.textContent=e.title,s.textContent=v(e.release_date).format("MMM DD, YYYY"),i.src=`https://media.themoviedb.org/t/p/w220_and_h330_face${e.poster_path}`,t.append(o,a,s),t}const E="https://api.themoviedb.org/3/movie/popular?language=en-US&page=1",p={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiM2I3MmUyNjRiZmRlMGVlMzkzNjY5NjQ4YzljYThhNSIsInN1YiI6IjVlZjQ5ZTIyYmNjZjFlMDAzNzM4NThmYSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ayZEv5_yIcHQ8MlpHvW6N54uBDoSz7XsnHGEHLUzack"}};async function g(){try{const e=await u.get(E,p);console.log(e),e.data.results.forEach(n=>{document.body.append(d),l.append(m(n))});const t=document.createElement("h2");t.textContent="Trending",d.append(t,l)}catch(e){console.log("Error",e)}}const f=async e=>{try{return await(await fetch(`https://api.themoviedb.org/3/search/movie?query=${e}&language=en-US&page=1`,p)).json()}catch(t){console.error("Error fetching movie data:",t)}},h=()=>{const e=r.value;c.innerHTML="",f(e).then(t=>{t.results.forEach(n=>{c.append(m(n))}),document.body.append(c),r.value=""})};y.addEventListener("click",e=>{h()});r.addEventListener("keypress",e=>{e.key==="Enter"&&(e.preventDefault(),h())});g();
