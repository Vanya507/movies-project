import{a as C}from"./axios-DjeU30Zb.js";import{c as F,g as O,d as w}from"./dayjs.min-Bof1u0Bp.js";var N={exports:{}};(function(s,a){(function(d,i){s.exports=i()})(F,function(){var d,i,u=1e3,h=6e4,l=36e5,g=864e5,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M=31536e6,y=2628e6,H=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,E={years:M,months:y,days:g,hours:l,minutes:h,seconds:u,milliseconds:1,weeks:6048e5},j=function(n){return n instanceof L},I=function(n,e,t){return new L(n,t,e.$l)},Y=function(n){return i.p(n)+"s"},D=function(n){return n<0},v=function(n){return D(n)?Math.ceil(n):Math.floor(n)},z=function(n){return Math.abs(n)},b=function(n,e){return n?D(n)?{negative:!0,format:""+z(n)+e}:{negative:!1,format:""+n+e}:{negative:!1,format:""}},L=function(){function n(t,o,c){var r=this;if(this.$d={},this.$l=c,t===void 0&&(this.$ms=0,this.parseFromMilliseconds()),o)return I(t*E[Y(o)],this);if(typeof t=="number")return this.$ms=t,this.parseFromMilliseconds(),this;if(typeof t=="object")return Object.keys(t).forEach(function(p){r.$d[Y(p)]=t[p]}),this.calMilliseconds(),this;if(typeof t=="string"){var m=t.match(H);if(m){var f=m.slice(2).map(function(p){return p!=null?Number(p):0});return this.$d.years=f[0],this.$d.months=f[1],this.$d.weeks=f[2],this.$d.days=f[3],this.$d.hours=f[4],this.$d.minutes=f[5],this.$d.seconds=f[6],this.calMilliseconds(),this}}return this}var e=n.prototype;return e.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce(function(o,c){return o+(t.$d[c]||0)*E[c]},0)},e.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=v(t/M),t%=M,this.$d.months=v(t/y),t%=y,this.$d.days=v(t/g),t%=g,this.$d.hours=v(t/l),t%=l,this.$d.minutes=v(t/h),t%=h,this.$d.seconds=v(t/u),t%=u,this.$d.milliseconds=t},e.toISOString=function(){var t=b(this.$d.years,"Y"),o=b(this.$d.months,"M"),c=+this.$d.days||0;this.$d.weeks&&(c+=7*this.$d.weeks);var r=b(c,"D"),m=b(this.$d.hours,"H"),f=b(this.$d.minutes,"M"),p=this.$d.seconds||0;this.$d.milliseconds&&(p+=this.$d.milliseconds/1e3,p=Math.round(1e3*p)/1e3);var S=b(p,"S"),J=t.negative||o.negative||r.negative||m.negative||f.negative||S.negative,U=m.format||f.format||S.format?"T":"",k=(J?"-":"")+"P"+t.format+o.format+r.format+U+m.format+f.format+S.format;return k==="P"||k==="-P"?"P0D":k},e.toJSON=function(){return this.toISOString()},e.format=function(t){var o=t||"YYYY-MM-DDTHH:mm:ss",c={Y:this.$d.years,YY:i.s(this.$d.years,2,"0"),YYYY:i.s(this.$d.years,4,"0"),M:this.$d.months,MM:i.s(this.$d.months,2,"0"),D:this.$d.days,DD:i.s(this.$d.days,2,"0"),H:this.$d.hours,HH:i.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:i.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:i.s(this.$d.seconds,2,"0"),SSS:i.s(this.$d.milliseconds,3,"0")};return o.replace($,function(r,m){return m||String(c[r])})},e.as=function(t){return this.$ms/E[Y(t)]},e.get=function(t){var o=this.$ms,c=Y(t);return c==="milliseconds"?o%=1e3:o=c==="weeks"?v(o/E[c]):this.$d[c],o||0},e.add=function(t,o,c){var r;return r=o?t*E[Y(o)]:j(t)?t.$ms:I(t,this).$ms,I(this.$ms+r*(c?-1:1),this)},e.subtract=function(t,o){return this.add(t,o,!0)},e.locale=function(t){var o=this.clone();return o.$l=t,o},e.clone=function(){return I(this.$ms,this)},e.humanize=function(t){return d().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},e.valueOf=function(){return this.asMilliseconds()},e.milliseconds=function(){return this.get("milliseconds")},e.asMilliseconds=function(){return this.as("milliseconds")},e.seconds=function(){return this.get("seconds")},e.asSeconds=function(){return this.as("seconds")},e.minutes=function(){return this.get("minutes")},e.asMinutes=function(){return this.as("minutes")},e.hours=function(){return this.get("hours")},e.asHours=function(){return this.as("hours")},e.days=function(){return this.get("days")},e.asDays=function(){return this.as("days")},e.weeks=function(){return this.get("weeks")},e.asWeeks=function(){return this.as("weeks")},e.months=function(){return this.get("months")},e.asMonths=function(){return this.as("months")},e.years=function(){return this.get("years")},e.asYears=function(){return this.as("years")},n}(),T=function(n,e,t){return n.add(e.years()*t,"y").add(e.months()*t,"M").add(e.days()*t,"d").add(e.hours()*t,"h").add(e.minutes()*t,"m").add(e.seconds()*t,"s").add(e.milliseconds()*t,"ms")};return function(n,e,t){d=t,i=t().$utils(),t.duration=function(r,m){var f=t.locale();return I(r,{$l:f},m)},t.isDuration=j;var o=e.prototype.add,c=e.prototype.subtract;e.prototype.add=function(r,m){return j(r)?T(this,r,1):o.bind(this)(r,m)},e.prototype.subtract=function(r,m){return j(r)?T(this,r,-1):c.bind(this)(r,m)}}})})(N);var P=N.exports;const Z=O(P);w.extend(Z);const _=new URLSearchParams(location.search);console.log(_.get("id"));const R=`https://api.themoviedb.org/3/movie/${_.get("id")}?language=en-US`,G=`https://api.themoviedb.org/3/movie/${_.get("id")}/credits?language=en-US`,W=`https://api.themoviedb.org/3/movie/${_.get("id")}/recommendations?language=en-US`,x={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiM2I3MmUyNjRiZmRlMGVlMzkzNjY5NjQ4YzljYThhNSIsInN1YiI6IjVlZjQ5ZTIyYmNjZjFlMDAzNzM4NThmYSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ayZEv5_yIcHQ8MlpHvW6N54uBDoSz7XsnHGEHLUzack"}};async function Q(){try{const s=await C.get(R,x);return console.log(s),s}catch(s){console.log("Error fetching movie:",s)}}async function B(){try{return await C.get(G,x)}catch(s){console.log("Error fetching cast:",s)}}async function A(){try{return await C.get(W,x)}catch(s){console.log("Error fetching recommendations:",s)}}function V(s){const a=document.createElement("section");a.classList.add("container"),document.body.append(a);const d=document.createElement("h2"),i=document.createElement("h4"),u=document.createElement("img");u.classList.add("movieImg");const h=document.createElement("h4");return s.data.backdrop_path?a.style.backgroundImage=`url(https://media.themoviedb.org/t/p/w1920_and_h800_multi_faces${s.data.backdrop_path})`:a.style.backgroundColor="rgba(227, 227, 227, 1)",a.classList.add("bgTitle"),d.textContent=s.data.title,document.title=s.data.title,h.textContent=w.duration(s.data.runtime,"minutes").format("H[h] mm[m]"),i.textContent=w(s.data.release_date).format("MM/DD/YYYY"),s.data.poster_path?u.src=`https://media.themoviedb.org/t/p/w300_and_h450_face${s.data.poster_path}`:u.src="/movies-project/notFound.jpg",a.append(u,d,h,i),a}function X(s){const a=document.createElement("section");a.classList.add("cast-container"),document.body.append(a);const d=document.createElement("h2");d.classList.add("castTitle"),d.textContent="Top Billed Cast";const i=document.createElement("ul");a.append(d,i);let u=0;s.data.cast.forEach(h=>{if(u<9){const l=document.createElement("img");l.classList.add("actorImg");const g=document.createElement("li"),$=document.createElement("h3"),M=document.createElement("h5"),y=document.createElement("a");y.append(l),y.href=`../actorInfo/actorInfo.html?id=${h.id}`,i.append(g),g.append(y,$,M),h.profile_path?l.src=`https://media.themoviedb.org/t/p/w138_and_h175_face/${h.profile_path}`:l.src="/movies-project/notFound.jpg",$.textContent=h.name,M.textContent=h.character,u++}})}function q(s){const a=document.createElement("section");a.classList.add("rec-container"),document.body.append(a);const d=document.createElement("h2");d.classList.add("recTitle"),d.textContent="Recommendations";const i=document.createElement("ul");a.append(d,i),s.data.results.forEach(u=>{const h=document.createElement("li"),l=document.createElement("img");l.classList.add("recImg");const g=document.createElement("h3"),$=document.createElement("a");$.append(l),$.href=`./detail.html?id=${u.id}`,console.log(!1),u.backdrop_path?l.src=`https://media.themoviedb.org/t/p/w250_and_h141_face${u.backdrop_path}`:l.src="/movies-project/notFound.jpg",g.textContent=u.title,h.append($,g),i.append(h)})}Promise.all([Q(),B(),A()]).then(([s,a,d])=>{V(s),X(a),q(d)}).catch(s=>{console.error("Error fetching data:",s)});
