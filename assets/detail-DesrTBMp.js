import{a as x}from"./axios-Dy7G9AwK.js";import{c as O,g as P,d as j}from"./dayjs.min-Bof1u0Bp.js";var H={exports:{}};(function(n,c){(function(d,i){n.exports=i()})(O,function(){var d,i,m=1e3,u=6e4,p=36e5,$=864e5,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M=31536e6,y=2628e6,L=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,b={years:M,months:y,days:$,hours:p,minutes:u,seconds:m,milliseconds:1,weeks:6048e5},S=function(s){return s instanceof T},Y=function(s,e,t){return new T(s,t,e.$l)},I=function(s){return i.p(s)+"s"},D=function(s){return s<0},v=function(s){return D(s)?Math.ceil(s):Math.floor(s)},z=function(s){return Math.abs(s)},E=function(s,e){return s?D(s)?{negative:!0,format:""+z(s)+e}:{negative:!1,format:""+s+e}:{negative:!1,format:""}},T=function(){function s(t,o,a){var r=this;if(this.$d={},this.$l=a,t===void 0&&(this.$ms=0,this.parseFromMilliseconds()),o)return Y(t*b[I(o)],this);if(typeof t=="number")return this.$ms=t,this.parseFromMilliseconds(),this;if(typeof t=="object")return Object.keys(t).forEach(function(f){r.$d[I(f)]=t[f]}),this.calMilliseconds(),this;if(typeof t=="string"){var h=t.match(L);if(h){var l=h.slice(2).map(function(f){return f!=null?Number(f):0});return this.$d.years=l[0],this.$d.months=l[1],this.$d.weeks=l[2],this.$d.days=l[3],this.$d.hours=l[4],this.$d.minutes=l[5],this.$d.seconds=l[6],this.calMilliseconds(),this}}return this}var e=s.prototype;return e.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce(function(o,a){return o+(t.$d[a]||0)*b[a]},0)},e.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=v(t/M),t%=M,this.$d.months=v(t/y),t%=y,this.$d.days=v(t/$),t%=$,this.$d.hours=v(t/p),t%=p,this.$d.minutes=v(t/u),t%=u,this.$d.seconds=v(t/m),t%=m,this.$d.milliseconds=t},e.toISOString=function(){var t=E(this.$d.years,"Y"),o=E(this.$d.months,"M"),a=+this.$d.days||0;this.$d.weeks&&(a+=7*this.$d.weeks);var r=E(a,"D"),h=E(this.$d.hours,"H"),l=E(this.$d.minutes,"M"),f=this.$d.seconds||0;this.$d.milliseconds&&(f+=this.$d.milliseconds/1e3,f=Math.round(1e3*f)/1e3);var _=E(f,"S"),J=t.negative||o.negative||r.negative||h.negative||l.negative||_.negative,U=h.format||l.format||_.format?"T":"",k=(J?"-":"")+"P"+t.format+o.format+r.format+U+h.format+l.format+_.format;return k==="P"||k==="-P"?"P0D":k},e.toJSON=function(){return this.toISOString()},e.format=function(t){var o=t||"YYYY-MM-DDTHH:mm:ss",a={Y:this.$d.years,YY:i.s(this.$d.years,2,"0"),YYYY:i.s(this.$d.years,4,"0"),M:this.$d.months,MM:i.s(this.$d.months,2,"0"),D:this.$d.days,DD:i.s(this.$d.days,2,"0"),H:this.$d.hours,HH:i.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:i.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:i.s(this.$d.seconds,2,"0"),SSS:i.s(this.$d.milliseconds,3,"0")};return o.replace(g,function(r,h){return h||String(a[r])})},e.as=function(t){return this.$ms/b[I(t)]},e.get=function(t){var o=this.$ms,a=I(t);return a==="milliseconds"?o%=1e3:o=a==="weeks"?v(o/b[a]):this.$d[a],o||0},e.add=function(t,o,a){var r;return r=o?t*b[I(o)]:S(t)?t.$ms:Y(t,this).$ms,Y(this.$ms+r*(a?-1:1),this)},e.subtract=function(t,o){return this.add(t,o,!0)},e.locale=function(t){var o=this.clone();return o.$l=t,o},e.clone=function(){return Y(this.$ms,this)},e.humanize=function(t){return d().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},e.valueOf=function(){return this.asMilliseconds()},e.milliseconds=function(){return this.get("milliseconds")},e.asMilliseconds=function(){return this.as("milliseconds")},e.seconds=function(){return this.get("seconds")},e.asSeconds=function(){return this.as("seconds")},e.minutes=function(){return this.get("minutes")},e.asMinutes=function(){return this.as("minutes")},e.hours=function(){return this.get("hours")},e.asHours=function(){return this.as("hours")},e.days=function(){return this.get("days")},e.asDays=function(){return this.as("days")},e.weeks=function(){return this.get("weeks")},e.asWeeks=function(){return this.as("weeks")},e.months=function(){return this.get("months")},e.asMonths=function(){return this.as("months")},e.years=function(){return this.get("years")},e.asYears=function(){return this.as("years")},s}(),N=function(s,e,t){return s.add(e.years()*t,"y").add(e.months()*t,"M").add(e.days()*t,"d").add(e.hours()*t,"h").add(e.minutes()*t,"m").add(e.seconds()*t,"s").add(e.milliseconds()*t,"ms")};return function(s,e,t){d=t,i=t().$utils(),t.duration=function(r,h){var l=t.locale();return Y(r,{$l:l},h)},t.isDuration=S;var o=e.prototype.add,a=e.prototype.subtract;e.prototype.add=function(r,h){return S(r)?N(this,r,1):o.bind(this)(r,h)},e.prototype.subtract=function(r,h){return S(r)?N(this,r,-1):a.bind(this)(r,h)}}})})(H);var Z=H.exports;const R=P(Z);j.extend(R);const w=new URLSearchParams(location.search);console.log(w.get("id"));const G=`https://api.themoviedb.org/3/movie/${w.get("id")}?language=en-US`,W=`https://api.themoviedb.org/3/movie/${w.get("id")}/credits?language=en-US`,F=`https://api.themoviedb.org/3/movie/${w.get("id")}/recommendations?language=en-US`,C={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiM2I3MmUyNjRiZmRlMGVlMzkzNjY5NjQ4YzljYThhNSIsInN1YiI6IjVlZjQ5ZTIyYmNjZjFlMDAzNzM4NThmYSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ayZEv5_yIcHQ8MlpHvW6N54uBDoSz7XsnHGEHLUzack"}};async function Q(){try{return await x.get(G,C)}catch(n){console.log("Error fetching movie:",n)}}async function B(){try{const n=await x.get(W,C);return console.log(n),n}catch(n){console.log("Error fetching cast:",n)}}async function A(){try{return await x.get(F,C)}catch(n){console.log("Error fetching recommendations:",n)}}function V(n){const c=document.createElement("section");c.classList.add("container"),document.body.append(c);const d=document.createElement("h2"),i=document.createElement("h4"),m=document.createElement("img"),u=document.createElement("h4");return c.style.backgroundImage=`url(https://media.themoviedb.org/t/p/w1920_and_h800_multi_faces${n.data.backdrop_path})`,c.classList.add("bgTitle"),d.textContent=n.data.title,document.title=n.data.title,u.textContent=j.duration(n.data.runtime,"minutes").format("H[h] mm[m]"),i.textContent=j(n.data.release_date).format("MM/DD/YYYY"),m.src=`https://media.themoviedb.org/t/p/w300_and_h450_face${n.data.poster_path}`,c.append(m,d,u,i),c}function X(n){const c=document.createElement("section");c.classList.add("cast-container"),document.body.append(c);const d=document.createElement("h2");d.classList.add("castTitle"),d.textContent="Top Billed Cast";const i=document.createElement("ul");c.append(d,i);let m=0;n.data.cast.forEach(u=>{if(m<9){const p=document.createElement("img"),$=document.createElement("li"),g=document.createElement("h3"),M=document.createElement("h5"),y=document.createElement("a");y.append(p),y.href=`../actorInfo.html?id=${u.id}`,i.append($),$.append(y,g,M),p.src=`https://media.themoviedb.org/t/p/w138_and_h175_face/${u.profile_path}`,g.textContent=u.name,M.textContent=u.character,m++}})}function q(n){const c=document.createElement("section");c.classList.add("rec-container"),document.body.append(c);const d=document.createElement("h2");d.classList.add("recTitle"),d.textContent="Recommendations";const i=document.createElement("ul");c.append(d,i),n.data.results.forEach(m=>{const u=document.createElement("li"),p=document.createElement("img"),$=document.createElement("h3"),g=document.createElement("a");g.append(p),g.href=`../detail.html?id=${m.id}`,p.src=`https://media.themoviedb.org/t/p/w250_and_h141_face${m.backdrop_path}`,$.textContent=m.title,u.append(g,$),i.append(u)})}Promise.all([Q(),B(),A()]).then(([n,c,d])=>{V(n),X(c),q(d)}).catch(n=>{console.error("Error fetching data:",n)});
