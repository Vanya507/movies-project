import{a as x}from"./axios-DjeU30Zb.js";import{c as U,g as O,d as k}from"./dayjs.min-Bof1u0Bp.js";var H={exports:{}};(function(n,c){(function(d,i){n.exports=i()})(U,function(){var d,i,h=1e3,u=6e4,f=36e5,g=864e5,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M=31536e6,y=2628e6,L=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,b={years:M,months:y,days:g,hours:f,minutes:u,seconds:h,milliseconds:1,weeks:6048e5},_=function(s){return s instanceof T},Y=function(s,e,t){return new T(s,t,e.$l)},I=function(s){return i.p(s)+"s"},D=function(s){return s<0},v=function(s){return D(s)?Math.ceil(s):Math.floor(s)},z=function(s){return Math.abs(s)},E=function(s,e){return s?D(s)?{negative:!0,format:""+z(s)+e}:{negative:!1,format:""+s+e}:{negative:!1,format:""}},T=function(){function s(t,o,a){var r=this;if(this.$d={},this.$l=a,t===void 0&&(this.$ms=0,this.parseFromMilliseconds()),o)return Y(t*b[I(o)],this);if(typeof t=="number")return this.$ms=t,this.parseFromMilliseconds(),this;if(typeof t=="object")return Object.keys(t).forEach(function(p){r.$d[I(p)]=t[p]}),this.calMilliseconds(),this;if(typeof t=="string"){var m=t.match(L);if(m){var l=m.slice(2).map(function(p){return p!=null?Number(p):0});return this.$d.years=l[0],this.$d.months=l[1],this.$d.weeks=l[2],this.$d.days=l[3],this.$d.hours=l[4],this.$d.minutes=l[5],this.$d.seconds=l[6],this.calMilliseconds(),this}}return this}var e=s.prototype;return e.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce(function(o,a){return o+(t.$d[a]||0)*b[a]},0)},e.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=v(t/M),t%=M,this.$d.months=v(t/y),t%=y,this.$d.days=v(t/g),t%=g,this.$d.hours=v(t/f),t%=f,this.$d.minutes=v(t/u),t%=u,this.$d.seconds=v(t/h),t%=h,this.$d.milliseconds=t},e.toISOString=function(){var t=E(this.$d.years,"Y"),o=E(this.$d.months,"M"),a=+this.$d.days||0;this.$d.weeks&&(a+=7*this.$d.weeks);var r=E(a,"D"),m=E(this.$d.hours,"H"),l=E(this.$d.minutes,"M"),p=this.$d.seconds||0;this.$d.milliseconds&&(p+=this.$d.milliseconds/1e3,p=Math.round(1e3*p)/1e3);var S=E(p,"S"),J=t.negative||o.negative||r.negative||m.negative||l.negative||S.negative,F=m.format||l.format||S.format?"T":"",w=(J?"-":"")+"P"+t.format+o.format+r.format+F+m.format+l.format+S.format;return w==="P"||w==="-P"?"P0D":w},e.toJSON=function(){return this.toISOString()},e.format=function(t){var o=t||"YYYY-MM-DDTHH:mm:ss",a={Y:this.$d.years,YY:i.s(this.$d.years,2,"0"),YYYY:i.s(this.$d.years,4,"0"),M:this.$d.months,MM:i.s(this.$d.months,2,"0"),D:this.$d.days,DD:i.s(this.$d.days,2,"0"),H:this.$d.hours,HH:i.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:i.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:i.s(this.$d.seconds,2,"0"),SSS:i.s(this.$d.milliseconds,3,"0")};return o.replace($,function(r,m){return m||String(a[r])})},e.as=function(t){return this.$ms/b[I(t)]},e.get=function(t){var o=this.$ms,a=I(t);return a==="milliseconds"?o%=1e3:o=a==="weeks"?v(o/b[a]):this.$d[a],o||0},e.add=function(t,o,a){var r;return r=o?t*b[I(o)]:_(t)?t.$ms:Y(t,this).$ms,Y(this.$ms+r*(a?-1:1),this)},e.subtract=function(t,o){return this.add(t,o,!0)},e.locale=function(t){var o=this.clone();return o.$l=t,o},e.clone=function(){return Y(this.$ms,this)},e.humanize=function(t){return d().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},e.valueOf=function(){return this.asMilliseconds()},e.milliseconds=function(){return this.get("milliseconds")},e.asMilliseconds=function(){return this.as("milliseconds")},e.seconds=function(){return this.get("seconds")},e.asSeconds=function(){return this.as("seconds")},e.minutes=function(){return this.get("minutes")},e.asMinutes=function(){return this.as("minutes")},e.hours=function(){return this.get("hours")},e.asHours=function(){return this.as("hours")},e.days=function(){return this.get("days")},e.asDays=function(){return this.as("days")},e.weeks=function(){return this.get("weeks")},e.asWeeks=function(){return this.as("weeks")},e.months=function(){return this.get("months")},e.asMonths=function(){return this.as("months")},e.years=function(){return this.get("years")},e.asYears=function(){return this.as("years")},s}(),N=function(s,e,t){return s.add(e.years()*t,"y").add(e.months()*t,"M").add(e.days()*t,"d").add(e.hours()*t,"h").add(e.minutes()*t,"m").add(e.seconds()*t,"s").add(e.milliseconds()*t,"ms")};return function(s,e,t){d=t,i=t().$utils(),t.duration=function(r,m){var l=t.locale();return Y(r,{$l:l},m)},t.isDuration=_;var o=e.prototype.add,a=e.prototype.subtract;e.prototype.add=function(r,m){return _(r)?N(this,r,1):o.bind(this)(r,m)},e.prototype.subtract=function(r,m){return _(r)?N(this,r,-1):a.bind(this)(r,m)}}})})(H);var P=H.exports;const Z=O(P);k.extend(Z);const j=new URLSearchParams(location.search);console.log(j.get("id"));const R=`https://api.themoviedb.org/3/movie/${j.get("id")}?language=en-US`,G=`https://api.themoviedb.org/3/movie/${j.get("id")}/credits?language=en-US`,W=`https://api.themoviedb.org/3/movie/${j.get("id")}/recommendations?language=en-US`,C={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiM2I3MmUyNjRiZmRlMGVlMzkzNjY5NjQ4YzljYThhNSIsInN1YiI6IjVlZjQ5ZTIyYmNjZjFlMDAzNzM4NThmYSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ayZEv5_yIcHQ8MlpHvW6N54uBDoSz7XsnHGEHLUzack"}};async function Q(){try{return await x.get(R,C)}catch(n){console.log("Error fetching movie:",n)}}async function B(){try{const n=await x.get(G,C);return console.log(n),n}catch(n){console.log("Error fetching cast:",n)}}async function A(){try{return await x.get(W,C)}catch(n){console.log("Error fetching recommendations:",n)}}function V(n){const c=document.createElement("section");c.classList.add("container"),document.body.append(c);const d=document.createElement("h2"),i=document.createElement("h4"),h=document.createElement("img"),u=document.createElement("h4");return c.style.backgroundImage=n.data.backdrop_path?`url(https://media.themoviedb.org/t/p/w1920_and_h800_multi_faces${n.data.backdrop_path})`:"notFound.jpg",c.classList.add("bgTitle"),d.textContent=n.data.title,document.title=n.data.title,u.textContent=k.duration(n.data.runtime,"minutes").format("H[h] mm[m]"),i.textContent=k(n.data.release_date).format("MM/DD/YYYY"),h.src=n.data.poster_path?`https://media.themoviedb.org/t/p/w300_and_h450_face${n.data.poster_path}`:"./notFound.jpg",c.append(h,d,u,i),c}function X(n){const c=document.createElement("section");c.classList.add("cast-container"),document.body.append(c);const d=document.createElement("h2");d.classList.add("castTitle"),d.textContent="Top Billed Cast";const i=document.createElement("ul");c.append(d,i);let h=0;n.data.cast.forEach(u=>{if(h<9){const f=document.createElement("img"),g=document.createElement("li"),$=document.createElement("h3"),M=document.createElement("h5"),y=document.createElement("a");y.append(f),y.href=`../actorInfo/actorInfo.html?id=${u.id}`,i.append(g),g.append(y,$,M),f.src=u.profile_path?`https://media.themoviedb.org/t/p/w138_and_h175_face/${u.profile_path}`:"/notFound.jpg",$.textContent=u.name,M.textContent=u.character,h++}})}function q(n){const c=document.createElement("section");c.classList.add("rec-container"),document.body.append(c);const d=document.createElement("h2");d.classList.add("recTitle"),d.textContent="Recommendations";const i=document.createElement("ul");c.append(d,i),n.data.results.forEach(h=>{const u=document.createElement("li"),f=document.createElement("img"),g=document.createElement("h3"),$=document.createElement("a");$.append(f),$.href=`./detail.html?id=${h.id}`,console.log(!1),h.backdrop_path?f.src=`https://media.themoviedb.org/t/p/w250_and_h141_face${h.backdrop_path}`:f.src="/movies-project/notFound.jpg",g.textContent=h.title,u.append($,g),i.append(u)})}Promise.all([Q(),B(),A()]).then(([n,c,d])=>{V(n),X(c),q(d)}).catch(n=>{console.error("Error fetching data:",n)});
